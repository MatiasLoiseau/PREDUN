# Harmonised students file – schema 2024_2C
version: students_v2024_2C

input:
  path: data-private/STUDENTS/2024_2C/listado_alumnos.csv
  delimiter: ","
  encoding: utf-8
  expected_columns: 16
  header_in_file: true

columns:
  # Original header order
  source:
    - legajo
    - calidad
    - nombre
    - plan_nombre
    - plan_codigo
    - anio_academico
    - fecha_inscripcion
    - regular
    - codigo
    - nombre-2
    - codigo-2
    - nombre-3
    - Unnamed: 12
    - Unnamed: 13
    - Unnamed: 14
    - Unnamed: 15

  # Map to the harmonised names ↓
  rename:
    legajo: STUDENT_ID
    calidad: STATUS
    plan_codigo: PLAN_CODE
    plan_nombre: PLAN_NAME
    anio_academico: ACADEMIC_YEAR
    fecha_inscripcion: ENROLMENT_DATE
    regular: REGULAR
    codigo: CAREER_CODE
    nombre-2: CAREER_NAME
    codigo-2: DEPT_CODE
    nombre-3: DEPT_NAME

  # Sensitive or useless columns to drop
  drop:
    - nombre          # holds internal code replicated elsewhere
    - Unnamed: 12
    - Unnamed: 13
    - Unnamed: 14
    - Unnamed: 15

  # Final order enforced in transform()
  target:
    - STUDENT_ID
    - STATUS
    - PLAN_CODE
    - PLAN_NAME
    - ACADEMIC_YEAR
    - ENROLMENT_DATE
    - REGULAR
    - CAREER_CODE
    - CAREER_NAME
    - DEPT_CODE
    - DEPT_NAME

value_mappings: {}

types:
  ACADEMIC_YEAR: int
  ENROLMENT_DATE: datetime

null_values: ["NULL", "null", ""]

output:
  path: data-private/STUDENTS/2024_2C/listado_alumnos_clean.csv
  delimiter: ","
  encoding: utf-8